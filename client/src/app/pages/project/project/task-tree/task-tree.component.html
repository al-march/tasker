<ng-container *ngIf="task">
  <section class="px-4 leading-none">
    <header class="flex p-2 items-center gap-4">
      <button
        class="btn btn-circle btn-ghost btn-xs"
        [class.invisible]="!task.subTasks.length"
        (click)="toggleShow(!showTree)"
      >
        <span class="transition-all" [class.rotate-90]="showTree">â–¶</span>
      </button>

      <div class="flex-1">
        <app-task
          [task]="task">
        </app-task>
      </div>
    </header>

    <ng-container>
      <div *ngFor="let subTask of task.subTasks">
        <div class="px-2" *ngIf="showTree" @slide>
          <app-task-tree
            [task]="subTask"
            [isChild]="true"
            (showTreeChange)="showTree = $event">
          </app-task-tree>
        </div>
      </div>
    </ng-container>
  </section>
</ng-container>
